<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุนุจุฉ ุฑูุน ุงููุงุนู ุจุงูุนูุงูุงุช ุงููุฑุนูุฉ</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #f0e68c, #add8e6);
            font-family: 'Cairo', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            color: #333;
            text-align: center;
            padding: 20px;
        }

        .game-container {
            background-color: #fff;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            width: 90%;
            max-width: 800px;
        }

        .game-screen {
            display: none;
            animation: fadeIn 1s ease-in-out;
        }

        .game-screen.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }

        h1 {
            font-size: 42px;
            color: #4b0082;
            text-shadow: 2px 2px #ffc107;
        }

        h3 {
            font-size: 24px;
            color: #6a0dad;
            margin-top: -10px;
        }

        button {
            background-color: #007bff;
            color: #fff;
            border: none;
            padding: 15px 30px;
            font-size: 24px;
            font-family: 'Cairo', sans-serif;
            border-radius: 10px;
            cursor: pointer;
            transition: background-color 0.3s;
            margin-top: 20px;
        }

        button:hover {
            background-color: #0056b3;
        }

        .input-group {
            margin-bottom: 20px;
            text-align: right;
            direction: rtl;
        }

        .input-group label {
            display: block;
            font-size: 20px;
            margin-bottom: 5px;
            color: #4b0082;
        }

        .input-group input {
            width: 100%;
            padding: 10px;
            font-size: 18px;
            border-radius: 8px;
            border: 2px solid #ccc;
            direction: rtl;
        }

        #question-text {
            font-size: 40px;
            color: #000;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .highlight {
            background-color: #ffc107;
            padding: 2px 5px;
            border-radius: 5px;
        }

        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .option-button {
            font-size: 36px;
            color: #0000ff;
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #0000ff;
            cursor: pointer;
            transition: transform 0.2s, background-color 0.2s;
        }

        .option-button:hover {
            transform: scale(1.05);
            background-color: #e0f0ff;
        }

        .option-button.correct {
            background-color: #28a745;
            color: #fff;
            border-color: #28a745;
        }

        .option-button.wrong {
            background-color: #dc3545;
            color: #fff;
            border-color: #dc3545;
        }

        #feedback {
            font-size: 28px;
            margin-top: 15px;
            font-weight: bold;
        }

        .navigation-buttons {
            margin-top: 20px;
        }

        .hidden {
            display: none !important;
        }

        #timer-container {
            font-size: 32px;
            font-weight: bold;
            color: #dc3545;
            margin-bottom: 20px;
        }
        
        /* Progress Bar CSS */
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 10px;
            height: 20px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-bar {
            width: 0%;
            height: 100%;
            background-color: #4CAF50;
            transition: width 0.4s ease-in-out;
        }

        @media (max-width: 600px) {
            h1 { font-size: 40px; }
            h3 { font-size: 20px; }
            .options-grid { grid-template-columns: 1fr; }
            #question-text { font-size: 32px; }
            .option-button { font-size: 28px; }
        }
    </style>
</head>
<body>

    <div class="game-container">

        <div id="welcome-screen" class="game-screen active">
            <h1>ูุนุจุฉ ุฑูุน ุงููุงุนู ุจุงูุนูุงูุงุช ุงููุฑุนูุฉ</h1>
            <h3>ุฅุนุฏุงุฏ ุงููุนูู / ุบุฒู ุจู ูุณุงุนุฏ ุงูุบุฒู</h3>
            <img src="https://via.placeholder.com/400x300.png?text=ุตูุฑุฉ+ุชุฑุญูุจูุฉ+ููุงุณุจุฉ+ููุฃุทูุงู" alt="ุตูุฑุฉ ุชุฑุญูุจูุฉ">
            <div class="input-group">
                <label for="playerNameInput">ุงูุงุณู:</label>
                <input type="text" id="playerNameInput" placeholder="ุฃุฏุฎู ุงุณูู ููุง">
            </div>
            <div class="input-group">
                <label for="playerClassInput">ุงูุตู:</label>
                <input type="text" id="playerClassInput" placeholder="ุฃุฏุฎู ุตูู ููุง">
            </div>
            <button id="startButton">ุงุจุฏุฃ ุงููุนุจุฉ</button>
        </div>

        <div id="quiz-screen" class="game-screen">
            <div class="progress-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>

            <h2 id="question-text"></h2>
            <div id="timer-container" class="hidden">
                <span id="timer"></span>
            </div>
            <div id="options-container" class="options-grid"></div>
            <p id="feedback"></p>
            <div class="navigation-buttons hidden">
                <button id="next-button">ุงูุณุคุงู ุงูุชุงูู</button>
            </div>
        </div>

        <div id="final-screen" class="game-screen">
            <h2>ููุฏ ุงูุชูุช ุงููุนุจุฉ!</h2>
            <p>
                <span id="congratulations-message"></span>
            </p>
            <p>ููุฏ ุญุตูุช ุนูู <span id="final-score">0</span> ููุทุฉ ูู ุฃุตู <span id="total-questions">0</span>.</p>
            <button id="restartButton">ุงุจุฏุฃ ูู ุฌุฏูุฏ</button>
        </div>

    </div>

    <script>
        // Data for the quiz
        const questions = [
            // Stage 1
            {
                question: "ุญุฏุฏ ุงููุงุนูุ ููุนูุ ูุนูุงูุฉ ุฑูุนู ูู ุงูุฌููุฉ: 'ููุชู <span class='highlight'>ุงูุนุงูููู</span> ุจูุธุงูุฉ ุงููุตูุน.'",
                options: ["ุงูุนุงูููู - ุฌูุน ูุฐูุฑ ุณุงูู - ุงููุงู", "ุงูุนุงูููู - ุฌูุน ุชูุณูุฑ - ุงูุถูุฉ", "ุงููุตูุน - ููุฑุฏ - ุงูุถูุฉ", "ุงูุฒุฑุน - ููุฑุฏ - ุงูุถูุฉ"],
                answer: "ุงูุนุงูููู - ุฌูุน ูุฐูุฑ ุณุงูู - ุงููุงู",
                stage: 1
            },
            {
                question: "ุญุฏุฏ ุงููุงุนูุ ููุนูุ ูุนูุงูุฉ ุฑูุนู ูู ุงูุฌููุฉ: 'ููุญุงูุธ <span class='highlight'>ุฃุจูู</span> ุนูู ุงูุจูุฆุฉ.'",
                options: ["ุฃุจูู - ูุซูู - ุงูุฃูู", "ุฃุจูู - ุงุณู ูู ุงูุฃุณูุงุก ุงูุฎูุณุฉ - ุงููุงู", "ุงูุจูุฆุฉ - ููุฑุฏ - ุงูุถูุฉ", "ุฃุจูู - ููุฑุฏ - ุงูุถูุฉ"],
                answer: "ุฃุจูู - ุงุณู ูู ุงูุฃุณูุงุก ุงูุฎูุณุฉ - ุงููุงู",
                stage: 1
            },
            {
                question: "ุญุฏุฏ ุงููุงุนูุ ููุนูุ ูุนูุงูุฉ ุฑูุนู ูู ุงูุฌููุฉ: 'ุชูุฒูุฏ <span class='highlight'>ุงูุฑุฆุชุงู</span> ุงูุฌุณู ุจุงูุฃูุณุฌูู.'",
                options: ["ุงูุฑุฆุชุงู - ููุฑุฏ - ุงูุถูุฉ", "ุงูุฌุณู - ููุฑุฏ - ุงูุถูุฉ", "ุงูุฑุฆุชุงู - ูุซูู - ุงูุฃูู", "ุงูุฃูุณุฌูู - ููุฑุฏ - ุงูุถูุฉ"],
                answer: "ุงูุฑุฆุชุงู - ูุซูู - ุงูุฃูู",
                stage: 1
            },
            {
                question: "ุญุฏุฏ ุงููุงุนูุ ููุนูุ ูุนูุงูุฉ ุฑูุนู ูู ุงูุฌููุฉ: 'ุฏุนููุง <span class='highlight'>ุงูุฅุณูุงู</span> ุฅูู ุงูุงุนุชุฏุงู ูุงููุณุทูุฉ.'",
                options: ["ุงูุฅุณูุงู - ููุฑุฏ - ุงูุถูุฉ", "ุงูุงุนุชุฏุงู - ูุซูู - ุงูุฃูู", "ุงููุณุทูุฉ - ููุฑุฏ - ุงูุถูุฉ", "ุงูุฅุณูุงู - ูุซูู - ุงูุฃูู"],
                answer: "ุงูุฅุณูุงู - ููุฑุฏ - ุงูุถูุฉ",
                stage: 1
            },
            // Stage 2
            {
                question: "ุญููู ุงููุงุนู ูู ุฌููุฉ 'ููุฌูุน ุงูููุงุญู ุงูุซูุงุฑ.' ุฅูู ุฌูุน ูุฐูุฑ ุณุงูู.",
                options: ["ููุฌูุน ุงูููุงุญูู ุงูุซูุงุฑ.", "ููุฌูุน ุงูููุงุญุงู ุงูุซูุงุฑ.", "ููุฌูุน ุงูููุงุญุงุช ุงูุซูุงุฑ.", "ููุฌูุน ุงูููุงุญ ุงูุซูุงุฑ."],
                answer: "ููุฌูุน ุงูููุงุญูู ุงูุซูุงุฑ.",
                stage: 2
            },
            {
                question: "ุญููู ุงููุงุนู ูู ุฌููุฉ 'ุชููุฑุฃ ุงูุทุจูุจุฉู ุนู ุฃุฎุทุงุฑ ุงูุบุงุฒุงุช.' ุฅูู ูุซูู.",
                options: ["ุชูุฑุฃ ุงูุทุจูุจุงุช ุนู ุฃุฎุทุงุฑ ุงูุบุงุฒุงุช.", "ุชูุฑุฃ ุงูุทุจูุจุชุงู ุนู ุฃุฎุทุงุฑ ุงูุบุงุฒุงุช.", "ููุฑุฃ ุงูุทุจูุจุงู ุนู ุฃุฎุทุงุฑ ุงูุบุงุฒุงุช.", "ุชูุฑุฃ ุงูุทุจูุจุฉ ุนู ุฃุฎุทุงุฑ ุงูุบุงุฒุงุช."],
                answer: "ุชูุฑุฃ ุงูุทุจูุจุชุงู ุนู ุฃุฎุทุงุฑ ุงูุบุงุฒุงุช.",
                stage: 2
            },
            {
                question: "ุญููู ุงููุงุนู ูู ุฌููุฉ 'ููุดุงุฑู ููุตู ูู ุญููุฉ ุชุฑุดูุฏ.' ุฅูู ุงุณู ูู ุงูุฃุณูุงุก ุงูุฎูุณุฉ.",
                options: ["ููุดุงุฑู ุฃุฎุงู ูู ุญููุฉ ุชุฑุดูุฏ.", "ููุดุงุฑู ุฃุฎูู ูู ุญููุฉ ุชุฑุดูุฏ.", "ููุดุงุฑู ุฃุจูู ูู ุญููุฉ ุชุฑุดูุฏ.", "ููุดุงุฑู ุฃุจุงู ูู ุญููุฉ ุชุฑุดูุฏ."],
                answer: "ููุดุงุฑู ุฃุฎูู ูู ุญููุฉ ุชุฑุดูุฏ.",
                stage: 2
            },
            {
                question: "ุญููู ุงููุงุนู ูู ุฌููุฉ 'ูุณุชูุชุน ุงูุฒุงุฆุฑ ุจูุดุงูุฏุฉ ุงูุญุฏููุฉ.' ุฅูู ุฌูุน ูุฐูุฑ ุณุงูู.",
                options: ["ูุณุชูุชุน ุงูุฒุงุฆุฑุงู ุจูุดุงูุฏุฉ ุงูุญุฏููุฉ.", " ูุณุชูุชุน ุงูุฒุงุฆุฑุชูู ุจูุดุงูุฏุฉ ุงูุญุฏููุฉ.", " ูุณุชูุชุน ุงูุฒูุงุฑ ุจูุดุงูุฏุฉ ุงูุญุฏููุฉ.", " ูุณุชูุชุน ุงูุฒุงุฆุฑูู ุจูุดุงูุฏุฉ ุงูุญุฏููุฉ."],
                answer: " ูุณุชูุชุน ุงูุฒุงุฆุฑูู ุจูุดุงูุฏุฉ ุงูุญุฏููุฉ.",
                stage: 2
            },
            // Stage 3
            {
                question: "ูุง ุนูุงูุฉ ุฑูุน ุงููุงุนู ูู 'ููุณูู <span class='highlight'>ุงูุนููุงุกู</span> ูู ุชูุฏู ุงููุฌุชูุน.'ุ",
                options: ["ุงููุงู", "ุงูุถูุฉ", "ุงูุฃูู", "ุงููุงุก"],
                answer: "ุงูุถูุฉ",
                stage: 3,
                timeLimit: 30
            },
            {
                question: "ูุง ููุน ุงููุงุนู ูู 'ููุณูู <span class='highlight'>ุงูุนููุงุกู</span> ูู ุชูุฏู ุงููุฌุชูุน.'ุ",
                options: ["ุฌูุน ุชูุณูุฑ", "ุฌูุน ูุฐูุฑ ุณุงูู", "ูุซูู", "ุงุณู ูู ุงูุฃุณูุงุก ุงูุฎูุณุฉ"],
                answer: "ุฌูุน ุชูุณูุฑ",
                stage: 3,
                timeLimit: 30
            },
            {
                question: "ูุง ุนูุงูุฉ ุฑูุน ุงููุงุนู ูู 'ูุชุนุงูู <span class='highlight'>ุฃุฎูู</span> ูุน ุงููุฑูุฒ.'ุ",
                options: ["ุงูุถูุฉ", "ุงูุฃูู", "ุงููุงู", "ุงููุงุก"],
                answer: "ุงููุงู",
                stage: 3,
                timeLimit: 30
            },
            {
                question: "ูุง ููุน ุงููุงุนู ูู 'ูุชุนุงูู <span class='highlight'>ุงููุฒุงุฑุนูู</span> ูุน ุงููููุฏุณูู.'ุ",
                options: ["ูุซูู", "ุฌูุน ุชูุณูุฑ", "ุฌูุน ูุฐูุฑ ุณุงูู", "ููุฑุฏ"],
                answer: "ุฌูุน ูุฐูุฑ ุณุงูู",
                stage: 3,
                timeLimit: 30
            },
            // Stage 4
            {
                question: "ุงุฎุชุฑ ุงููุงุนู ุงูููุงุณุจ: 'ูููุทูู <span class='highlight'>...........</span> ูู ูุณุงุจูุฉ ุงูุฌุฑู.'",
                options: ["ุงููุงุนุจูู", "ุงููุงุนุจุฉ", "ุงููุงุนุจูู", "ุงููุงุนุจุชูู"],
                answer: "ุงููุงุนุจูู",
                stage: 4,
                timeLimit: 20
            },
            {
                question: "ุงุฎุชุฑ ุงููุงุนู ุงูููุงุณุจ: 'ููุญุฑุต <span class='highlight'>...........</span> ุนูู ุงูุญุถูุฑ ูุจูุฑูุง.'",
                options: ["ุงูุทุงูุจุงู", "ุงูุทุงูุจูู", "ุงูุทุงูุจุฉ", "ุงูุทุงูุจุชูู"],
                answer: "ุงูุทุงูุจุงู",
                stage: 4,
                timeLimit: 20
            },
            {
                question: "ุงุฎุชุฑ ุงููุงุนู ุงูููุงุณุจ: 'ููุฑุชุฏู <span class='highlight'>...........</span> ุงูููุงุจุณ ุงูุซูููุฉ ูู ุงูุดุชุงุก.'",
                options: ["ุงููุงุณู", "ุงููุงุณูู", "ุงููุงุณู", "ุงููุงุณู"],
                answer: "ุงููุงุณู",
                stage: 4,
                timeLimit: 20
            },
            {
                question: "ุงุฎุชุฑ ุงููุงุนู ุงูููุงุณุจ: 'ูููุฑุฃ <span class='highlight'>...........</span> ูุซูุฑูุง ุนู ุชุงุฑูุฎ ุงูููููุฉ.'",
                options: ["ุฃุฎุงู", "ุฃุฎูู", "ุฃุจูู", "ุฃุจูู"],
                answer: "ุฃุจูู",
                stage: 4,
                timeLimit: 20
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let timer;
        let timeLeft;
        let shuffledQuestions = [];
        let playerName = '';

        // ุชุนุฑูู ุฌููุน ุงูุนูุงุตุฑ ููุง
        const welcomeScreen = document.getElementById('welcome-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const finalScreen = document.getElementById('final-screen');
        const startButton = document.getElementById('startButton');
        const nextButton = document.getElementById('next-button');
        const restartButton = document.getElementById('restartButton');
        const playerNameInput = document.getElementById('playerNameInput');
        const playerClassInput = document.getElementById('playerClassInput');
        const questionText = document.getElementById('question-text');
        const optionsContainer = document.getElementById('options-container');
        const feedback = document.getElementById('feedback');
        const timerContainer = document.getElementById('timer-container');
        const timerSpan = document.getElementById('timer');
        const finalScoreSpan = document.getElementById('final-score');
        const totalQuestionsSpan = document.getElementById('total-questions');
        const progressBar = document.getElementById('progressBar');
        const congratulationsMessage = document.getElementById('congratulations-message');

        // Event listeners
        startButton.addEventListener('click', () => {
            playerName = playerNameInput.value.trim();
            if (playerName === '') {
                alert('ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงุณูู ุฃููุงู!');
            } else {
                startGame();
            }
        });
        nextButton.addEventListener('click', nextQuestion);
        restartButton.addEventListener('click', restartGame);

        function startGame() {
            welcomeScreen.classList.remove('active');
            quizScreen.classList.add('active');
            currentQuestionIndex = 0;
            score = 0;
            shuffledQuestions = questions.sort(() => Math.random() - 0.5);
            updateProgressBar();
            showQuestion();
        }

        function showQuestion() {
            resetState();
            const currentQuestion = shuffledQuestions[currentQuestionIndex];
            questionText.innerHTML = currentQuestion.question;

            // ุฅุธูุงุฑ ุงููุคูุช ููุท ุฅุฐุง ูุงู ุฑูู ุงูุณุคุงู ุฃูุจุฑ ูู 9
            if (currentQuestionIndex >= 10) {
                timerContainer.classList.remove('hidden');
                timeLeft = 30; // 30 ุซุงููุฉ ููู ุณุคุงู ุจุนุฏ ุงูุณุคุงู ุงูุนุงุดุฑ
                timerSpan.textContent = timeLeft;
                timer = setInterval(countdown, 1000);
            }

            const shuffledOptions = currentQuestion.options.sort(() => Math.random() - 0.5);
            shuffledOptions.forEach(option => {
                const button = document.createElement('button');
                button.innerHTML = option;
                button.classList.add('option-button');
                optionsContainer.appendChild(button);
                button.dataset.correct = option === currentQuestion.answer;
                button.addEventListener('click', selectOption);
            });
        }

        function resetState() {
            clearInterval(timer);
            timerContainer.classList.add('hidden');
            feedback.textContent = '';
            nextButton.parentElement.classList.add('hidden');
            while (optionsContainer.firstChild) {
                optionsContainer.removeChild(optionsContainer.firstChild);
            }
        }

        function selectOption(e) {
            clearInterval(timer);
            const selectedButton = e.target;
            const isCorrect = selectedButton.dataset.correct === 'true';

            if (isCorrect) {
                score++;
                feedback.textContent = 'ุฅุฌุงุจุฉ ุตุญูุญุฉ! ๐ ุฃุญุณูุช.';
                selectedButton.classList.add('correct');
            } else {
                feedback.textContent = 'ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ. ุญุงูู ูุฑุฉ ุฃุฎุฑู.';
                selectedButton.classList.add('wrong');
                Array.from(optionsContainer.children).forEach(button => {
                    if (button.dataset.correct === 'true') {
                        button.classList.add('correct');
                    }
                });
            }

            Array.from(optionsContainer.children).forEach(button => {
                button.disabled = true;
            });

            nextButton.parentElement.classList.remove('hidden');
        }

        function countdown() {
            timeLeft--;
            timerSpan.textContent = timeLeft;
            if (timeLeft <= 0) {
                clearInterval(timer);
                feedback.textContent = 'ุงูุชูู ุงูููุช! โ';
                Array.from(optionsContainer.children).forEach(button => {
                    button.disabled = true;
                    if (button.dataset.correct === 'true') {
                        button.classList.add('correct');
                    }
                });
                nextButton.parentElement.classList.remove('hidden');
            }
        }

        function nextQuestion() {
            currentQuestionIndex++;
            if (currentQuestionIndex < shuffledQuestions.length) {
                updateProgressBar();
                showQuestion();
            } else {
                updateProgressBar();
                showFinalScreen();
            }
        }

        function showFinalScreen() {
            quizScreen.classList.remove('active');
            finalScreen.classList.add('active');
            finalScoreSpan.textContent = score;
            totalQuestionsSpan.textContent = shuffledQuestions.length;
            congratulationsMessage.textContent = `ูุจุฑูู ููุฏ ุฃุชููุช ุงููุนุจุฉ ุจุดูู ุฑุงุฆุน ูุง: ${playerName}`;
        }

        function restartGame() {
            finalScreen.classList.remove('active');
            welcomeScreen.classList.add('active');
            currentQuestionIndex = 0;
            score = 0;
            progressBar.style.width = '0%';
            playerNameInput.value = ''; // Clear the name field
            playerClassInput.value = ''; // Clear the class field
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex) / shuffledQuestions.length) * 100;
            progressBar.style.width = progress + '%';
        }
    </script>
</body>
</html>
